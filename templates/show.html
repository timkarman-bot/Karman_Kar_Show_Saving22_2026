{% extends "base.html" %}
{% set title = "Current Show • Karman Kar Shows & Events" %}

{% block content %}
{% if not_found %}
  <div class="rounded-3xl bg-white border border-slate-200 p-8 shadow-sm">
    <h1 class="text-2xl font-semibold">Show not found</h1>
    <p class="mt-2 text-slate-600">That event isn’t available.</p>
    <a class="inline-block mt-5 px-4 py-2 rounded-xl bg-slate-900 text-white" href="{{ url_for('home') }}">Go home</a>
  </div>
{% else %}

  <!-- Sponsor Bar (public) -->
  <section class="rounded-3xl bg-white border border-slate-200 shadow-sm p-6">
    <div class="text-xs font-semibold text-slate-500">TITLE SPONSOR</div>
    <div class="mt-2 rounded-2xl border border-slate-200 bg-slate-50 p-4 flex items-center justify-between gap-4">
      <div class="min-w-0">
        <div class="font-semibold">Your Title Sponsor Here</div>
        <div class="text-sm text-slate-600">Replace this block with the title sponsor logo + name.</div>
      </div>
      <div class="h-12 w-28 rounded-xl border border-dashed border-slate-300 grid place-items-center text-xs text-slate-500">
        Logo
      </div>
    </div>

    <div class="mt-5 text-xs font-semibold text-slate-500">SPONSORS</div>
    <div class="mt-2 grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3">
      {% for i in range(6) %}
        <div class="h-14 rounded-2xl border border-dashed border-slate-300 bg-white grid place-items-center text-xs text-slate-500">
          Sponsor
        </div>
      {% endfor %}
    </div>
  </section>

  <section class="mt-6 rounded-3xl p-8 glass border border-slate-200 shadow-sm">
    <div class="flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6">
      <div>
        <div class="flex flex-wrap items-center gap-2">
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900 text-white text-xs">
            Current Show
          </span>

          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs
            {% if show['voting_open'] == 1 %}
              border-emerald-200 bg-emerald-50 text-emerald-800
            {% else %}
              border-amber-200 bg-amber-50 text-amber-800
            {% endif %}">
            {% if show["voting_open"] == 1 %}Voting Open{% else %}Voting Closed{% endif %}
          </span>
        </div>

        <h1 class="mt-4 text-4xl font-semibold tracking-tight">{{ show["title"] }}</h1>
        <p class="mt-3 text-slate-700 max-w-2xl">{{ show["description"] }}</p>

        <div class="mt-6 grid gap-2 text-sm text-slate-700">
          {% if show["date"] %}<div><span class="font-semibold">Date:</span> {{ show["date"] }}</div>{% endif %}
          {% if show["time"] %}<div><span class="font-semibold">Time:</span> {{ show["time"] }}</div>{% endif %}
          {% if show["location_name"] %}<div><span class="font-semibold">Location:</span> {{ show["location_name"] }}</div>{% endif %}
          {% if show["address"] %}<div><span class="font-semibold">Address:</span> {{ show["address"] }}</div>{% endif %}
          {% if show["benefiting"] %}<div><span class="font-semibold">Benefiting:</span> {{ show["benefiting"] }}</div>{% endif %}
          {% if show["suggested_donation"] %}<div><span class="font-semibold">Suggested donation:</span> {{ show["suggested_donation"] }}</div>{% endif %}
        </div>
      </div>

      <div class="rounded-3xl bg-white border border-slate-200 p-6 shadow-sm w-full lg:w-96">
        <div class="font-semibold">For car owners</div>
        <p class="mt-2 text-sm text-slate-600">
          Register your car to generate your windshield QR sheet and so we can notify you about future events (optional).
        </p>

        <div class="mt-4 grid gap-3">
          <a class="px-4 py-3 rounded-2xl bg-slate-900 text-white hover:opacity-90 text-center"
             href="{{ url_for('register_page') }}">
            Register your car
          </a>
          <a class="px-4 py-3 rounded-2xl bg-white border border-slate-200 hover:bg-slate-50 text-center"
             href="{{ url_for('events') }}">
            See upcoming events
          </a>
        </div>

        <div class="mt-5 text-xs text-slate-500">
          Voting is done via QR codes on each car. Category is locked automatically, voters choose quantity, then pay $1 per vote.
          <span class="block mt-1">Max 50 votes per checkout (repeat if desired).</span>
        </div>
      </div>
    </div>
  </section>
{% endif %}
{% endblock %}
