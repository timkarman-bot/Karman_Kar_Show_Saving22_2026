{% extends "base.html" %}
{% set title = "Home • Karman Kar Shows & Events" %}

{% block content %}
<section class="grid gap-6 lg:grid-cols-2 items-start">
  <div class="rounded-3xl p-8 glass border border-slate-200 shadow-sm">
    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-900 text-white text-xs">
      Current Featured Event
    </div>

    <h1 class="mt-4 text-4xl font-semibold tracking-tight">{{ show["title"] }}</h1>
    <p class="mt-3 text-slate-700 max-w-xl">{{ show["description"] }}</p>

    <div class="mt-6 grid gap-2 text-sm text-slate-700">
      {% if show["date"] %}<div><span class="font-semibold">Date:</span> {{ show["date"] }}</div>{% endif %}
      {% if show["time"] %}<div><span class="font-semibold">Time:</span> {{ show["time"] }}</div>{% endif %}
      {% if show["location_name"] %}<div><span class="font-semibold">Location:</span> {{ show["location_name"] }}</div>{% endif %}
      {% if show["address"] %}<div><span class="font-semibold">Address:</span> {{ show["address"] }}</div>{% endif %}
      {% if show["benefiting"] %}<div><span class="font-semibold">Benefiting:</span> {{ show["benefiting"] }}</div>{% endif %}
      {% if show["suggested_donation"] %}<div><span class="font-semibold">Donation:</span> {{ show["suggested_donation"] }}</div>{% endif %}
    </div>

    <div class="mt-8 flex flex-wrap gap-3">
      <a href="{{ url_for('show_page', slug=show['slug']) }}" class="btn btn-primary">
        View show details
      </a>
      <a href="{{ url_for('register_page') }}" class="btn btn-outline">
        Register your car
      </a>
      <a href="{{ url_for('events') }}" class="btn btn-outline">
        Upcoming events
      </a>
    </div>

    <div class="mt-6 text-xs text-slate-500">
      Voting: scan a car’s QR code → choose votes → pay $1 per vote → recorded automatically.
    </div>
  </div>

  <div class="rounded-3xl bg-white border border-slate-200 shadow-sm p-8">
    <h2 class="text-xl font-semibold">How voting works</h2>

    {% if title_sponsor %}
      <div class="mt-5 rounded-2xl border border-slate-200 bg-slate-50 p-4">
        <div class="text-xs font-semibold text-slate-500">TITLE SPONSOR</div>
        <div class="mt-2 flex items-center gap-4">
          {% if title_sponsor["logo_path"] %}
            <img class="h-12 w-auto" src="{{ url_for('static', filename=title_sponsor['logo_path']) }}" alt="{{ title_sponsor['name'] }}">
          {% else %}
            <div class="h-12 w-28 rounded-xl border border-dashed border-slate-300 grid place-items-center text-xs text-slate-500">Logo</div>
          {% endif %}
          <div class="min-w-0">
            <div class="font-semibold">{{ title_sponsor["name"] }}</div>
            {% if title_sponsor["website_url"] %}
              <div class="text-sm text-slate-600 truncate">{{ title_sponsor["website_url"] }}</div>
            {% endif %}
          </div>
        </div>
      </div>
    {% endif %}

    <div class="mt-5 grid gap-4">
      <div class="rounded-2xl border border-slate-200 p-4">
        <div class="font-semibold">1) Scan a QR code</div>
        <div class="text-sm text-slate-600 mt-1">Each category has its own code for that car.</div>
      </div>
      <div class="rounded-2xl border border-slate-200 p-4">
        <div class="font-semibold">2) Choose vote quantity</div>
        <div class="text-sm text-slate-600 mt-1">$1 per vote. Fast and mobile-friendly.</div>
      </div>
      <div class="rounded-2xl border border-slate-200 p-4">
        <div class="font-semibold">3) Pay securely</div>
        <div class="text-sm text-slate-600 mt-1">Stripe checkout. Votes record only after payment succeeds.</div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
